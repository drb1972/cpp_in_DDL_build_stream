CREATE TABLESPACE SVEA0020
#include <TSParamsZOS4KU.cpp>

CREATE TABLE T0020VEA_REPORT_USAGE
(VEA_REPORT_USAGE_ID        INTEGER     NOT NULL GENERATED BY DEFAULT AS IDENTITY
,VEA_REPORT_ID              INTEGER     NOT NULL
,VEA_REPORT_USAGE_TIMESTAMP TIMESTAMP   NOT NULL WITH DEFAULT
,VEA_REPORT_USER_ID         VARCHAR(20) NOT NULL
) IN $DBNAME.SVEA0020 
CCSID UNICODE 
;

CREATE UNIQUE INDEX PVEA0020 ON T0020VEA_REPORT_USAGE 
(VEA_REPORT_USAGE_ID ASC)
#include <IndexParamsZOS.cpp>;

CREATE INDEX XVEA002B0 ON T0020VEA_REPORT_USAGE 
(VEA_REPORT_ID ASC)
#include <IndexParamsZOS.cpp>;

CREATE INDEX XVEA002C0 ON T0020VEA_REPORT_USAGE 
(VEA_REPORT_USAGE_TIMESTAMP DESC)
#include <IndexParamsZOS.cpp>;

CREATE INDEX XVEA002D0 ON T0020VEA_REPORT_USAGE 
(VEA_REPORT_USER_ID ASC)
#include <IndexParamsZOS.cpp>;

ALTER TABLE T0020VEA_REPORT_USAGE 
ADD CONSTRAINT R00200010A FOREIGN KEY
(VEA_REPORT_ID)
REFERENCES T0010VEA_REPORT
(VEA_REPORT_ID)
ON DELETE RESTRICT
ENFORCED
;
